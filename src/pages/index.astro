---
import { getCollection } from 'astro:content'
import Layout from '../layouts/layout.astro'

const posts = await getCollection('posts')
---

<Layout>
  <main>
    <h1>Posts:</h1>
    <ul>
      {
        posts.map((post) => (
          <li>
            <a href={`/${post.slug}`}>{post.data.title}</a>
          </li>
        ))
      }
    </ul>
    <p>Created with Keystatic</p>
  </main>
</Layout>
